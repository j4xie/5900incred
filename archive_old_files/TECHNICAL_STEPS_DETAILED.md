# æŠ€æœ¯å®ç°æ­¥éª¤ï¼ˆè¯¦ç»†ç‰ˆï¼‰
## ä»é›¶å¼€å§‹æ„å»º OCEAN ç‰¹å¾æå–ç³»ç»Ÿ

---

## ğŸ“‹ Phase 1: æ•°æ®æ¢ç´¢ä¸å˜é‡åˆ†æ

### **Step 1.1: è¯†åˆ«å¯ç”¨çš„ Categorical Variables**
**ç›®æ ‡**: æ‰¾å‡ºæ•°æ®é›†ä¸­æ‰€æœ‰å¯ä»¥ç”¨äºäººæ ¼æ¨æ–­çš„åˆ†ç±»å˜é‡

**æ“ä½œ**:
```bash
python3 step1_check_features.py
```

**è¾“å‡º**:
- `available_features.txt`: 10ä¸ªå¯ç”¨å˜é‡åˆ—è¡¨
- è¦†ç›–ç‡ç»Ÿè®¡
- å”¯ä¸€å€¼æ•°é‡

**ç»“æœ**: âœ… å·²å®Œæˆ
- term (2 unique values)
- grade (7), sub_grade (34)
- emp_length (11)
- home_ownership (3)
- verification_status (3)
- purpose (13)
- application_type (1)

---

### **Step 1.2: åˆ†ææ¯ä¸ª Variable ä¸ Target (è¿çº¦ç‡) çš„å…³ç³»**
**ç›®æ ‡**: ç†è§£å“ªäº›å˜é‡ä¸ä¿¡è´·é£é™©ç›¸å…³ï¼ˆä¸ºåç»­ OCEAN æ˜ å°„æä¾›ä¾æ®ï¼‰

**æ“ä½œ**: è¿è¡Œä»¥ä¸‹è„šæœ¬

**è¾“å‡º**:
- æ¯ä¸ª variable çš„è¿çº¦ç‡åˆ†å¸ƒ
- å¡æ–¹æ£€éªŒ p-valueï¼ˆæ˜¯å¦ä¸ target æ˜¾è‘—ç›¸å…³ï¼‰
- å¯è§†åŒ–ï¼šæŸ±çŠ¶å›¾å¯¹æ¯”

**ç¤ºä¾‹å‘ç°**:
```
Variable: grade
  Grade A â†’ è¿çº¦ç‡ 8%
  Grade G â†’ è¿çº¦ç‡ 35%
  å¡æ–¹æ£€éªŒ: p < 0.001 (æ˜¾è‘—ç›¸å…³)

Variable: purpose
  debt_consolidation â†’ è¿çº¦ç‡ 15%
  small_business â†’ è¿çº¦ç‡ 22%
  wedding â†’ è¿çº¦ç‡ 10%
```

---

### **Step 1.3: å»ºç«‹ Variable â†’ OCEAN çš„å¿ƒç†å­¦æ˜ å°„å‡è®¾**
**ç›®æ ‡**: åŸºäºå¿ƒç†å­¦ç†è®ºï¼Œå®šä¹‰æ¯ä¸ªå˜é‡å¦‚ä½•å½±å“ OCEAN ç»´åº¦

**æ–¹æ³•**: æ–‡çŒ®è°ƒç ” + ä¸“å®¶åˆ¤æ–­

**æ˜ å°„è¡¨ï¼ˆç¤ºä¾‹ï¼‰**:

| Variable | å½±å“çš„ OCEAN ç»´åº¦ | æ–¹å‘ | ç†ç”± |
|----------|------------------|------|------|
| **purpose** | | | |
| - small_business | Openness â†‘ | + | åˆ›ä¸šéœ€è¦åˆ›æ–°ç²¾ç¥ |
| - debt_consolidation | Conscientiousness â†‘ | + | ä¸»åŠ¨ç®¡ç†å€ºåŠ¡ = è´Ÿè´£ä»» |
| - wedding | Agreeableness â†‘ | + | ç¤¾äº¤å¯¼å‘çš„æ¶ˆè´¹ |
| **term** | | | |
| - 60 months | Conscientiousness â†“ | - | é•¿æœŸå€ºåŠ¡ = ç¼ºä¹è§„åˆ’ |
| - 36 months | Conscientiousness â†‘ | + | çŸ­æœŸ = è°¨æ… |
| **grade** | | | |
| - A-C (å¥½ä¿¡ç”¨) | Conscientiousness â†‘ | + | è‰¯å¥½ä¿¡ç”¨ = è´Ÿè´£ä»» |
| - D-G (å·®ä¿¡ç”¨) | Neuroticism â†‘ | + | ä¿¡ç”¨å·® = æƒ…ç»ªä¸ç¨³å®š/ç„¦è™‘ |
| **home_ownership** | | | |
| - OWN | Conscientiousness â†‘ | + | æ‹¥æœ‰æˆ¿äº§ = ç¨³å®š/è§„åˆ’å¥½ |
| - RENT | Neuroticism â†‘ | + | ç§Ÿæˆ¿ = ä¸ç¨³å®š |
| **emp_length** | | | |
| - 10+ years | Conscientiousness â†‘ | + | é•¿æœŸå°±ä¸š = ç¨³å®š/è´Ÿè´£ |
| - < 1 year | Neuroticism â†‘ | + | çŸ­æœŸ = ä¸ç¨³å®š |
| **application_type** | | | |
| - Joint | Extraversion â†‘ | + | è”åˆç”³è¯· = ç¤¾äº¤æ€§å¼º |
| - Individual | Extraversion â†“ | - | ç‹¬è‡ªç”³è¯· = å†…å‘ |

**è¾“å‡º**: `ocean_mapping_hypothesis.csv`

---

## ğŸ“Š Phase 2: æƒé‡è®¾è®¡ä¸éªŒè¯

### **Step 2.1: ä¸ºæ¯ä¸ª Variable è®¾è®¡æƒé‡ç³»æ•°**
**ç›®æ ‡**: é‡åŒ–æ¯ä¸ªå˜é‡å¯¹ OCEAN çš„è´¡çŒ®åº¦

**æ–¹æ³• A: åŸºäºä¸“å®¶åˆ¤æ–­ï¼ˆç®€å•ç‰ˆï¼‰**
```python
# ç¤ºä¾‹æƒé‡çŸ©é˜µ
weights = {
    "purpose": {
        "small_business": {"openness": +0.3, "conscientiousness": +0.2},
        "debt_consolidation": {"conscientiousness": +0.25},
        "wedding": {"agreeableness": +0.2}
    },
    "grade": {
        "A": {"conscientiousness": +0.3, "neuroticism": -0.2},
        "B": {"conscientiousness": +0.2, "neuroticism": -0.1},
        "C": {"conscientiousness": 0, "neuroticism": 0},
        "D": {"conscientiousness": -0.1, "neuroticism": +0.1},
        "E": {"conscientiousness": -0.2, "neuroticism": +0.2},
        "F": {"conscientiousness": -0.3, "neuroticism": +0.25},
        "G": {"conscientiousness": -0.4, "neuroticism": +0.3}
    }
}
```

**æ–¹æ³• B: åŸºäºæ•°æ®é©±åŠ¨ï¼ˆé«˜çº§ç‰ˆï¼‰**
- ä½¿ç”¨é€»è¾‘å›å½’å­¦ä¹ æƒé‡
- è¾“å…¥: categorical variables (one-hot)
- è¾“å‡º: OCEAN åˆ†æ•°ï¼ˆé€šè¿‡ LLM æ ‡æ³¨çš„å­é›†è®­ç»ƒï¼‰

---

### **Step 2.2: éªŒè¯æƒé‡çš„åˆç†æ€§**
**ç›®æ ‡**: æ£€æŸ¥ç”Ÿæˆçš„ OCEAN åˆ†æ•°æ˜¯å¦ç¬¦åˆå¿ƒç†å­¦é¢„æœŸ

**æµ‹è¯•ç”¨ä¾‹**:
```python
# æµ‹è¯• 1: ä¿¡ç”¨ç­‰çº§é«˜çš„äººåº”è¯¥æœ‰æ›´é«˜çš„ Conscientiousness
borrower_A = {"grade": "A", "purpose": "debt_consolidation"}
borrower_G = {"grade": "G", "purpose": "credit_card"}

ocean_A = compute_ocean(borrower_A)
ocean_G = compute_ocean(borrower_G)

assert ocean_A["conscientiousness"] > ocean_G["conscientiousness"]
```

**éªŒè¯æ–¹æ³•**:
1. **å•å˜é‡æµ‹è¯•**: åªæ”¹å˜ä¸€ä¸ªå˜é‡ï¼Œè§‚å¯Ÿ OCEAN å˜åŒ–
2. **æç«¯æ¡ˆä¾‹**: æœ€å¥½/æœ€åç»„åˆï¼Œæ£€æŸ¥ OCEAN æ˜¯å¦åˆç†
3. **ä¸ LLM å¯¹æ¯”**: éšæœºæŠ½ 100 æ¡ï¼Œå¯¹æ¯”ä½ çš„ç®—æ³• vs LLM æ‰“åˆ†çš„ç›¸å…³æ€§

---

### **Step 2.3: è°ƒæ•´æƒé‡ï¼ˆè¿­ä»£ä¼˜åŒ–ï¼‰**
**ç›®æ ‡**: åŸºäºéªŒè¯ç»“æœå¾®è°ƒæƒé‡

**ä¼˜åŒ–ç›®æ ‡**:
- æœ€å¤§åŒ– OCEAN ä¸è¿çº¦ç‡çš„ç›¸å…³æ€§
- æˆ–ï¼šæœ€å¤§åŒ–ä¸ LLM baseline çš„ä¸€è‡´æ€§

**æ–¹æ³•**:
```python
# Grid search æƒé‡ç³»æ•°
for purpose_weight in [0.1, 0.2, 0.3]:
    for grade_weight in [0.2, 0.3, 0.4]:
        ocean_scores = compute_ocean_with_weights(df, purpose_weight, grade_weight)
        correlation = compute_correlation(ocean_scores, df["target"])
        # é€‰æ‹©æœ€é«˜ç›¸å…³æ€§çš„æƒé‡ç»„åˆ
```

---

## ğŸ”§ Phase 3: æ„å»ºæ‰“åˆ†ç®—æ³•

### **Step 3.1: å®ç°åŸºäºè§„åˆ™çš„æ‰“åˆ†å‡½æ•°**
**ç›®æ ‡**: æŠŠæƒé‡çŸ©é˜µè½¬æ¢ä¸ºå¯æ‰§è¡Œä»£ç 

**ä¼ªä»£ç **:
```python
def compute_ocean_rule_based(borrower):
    # åˆå§‹åŒ– OCEAN (baseline = 0.5)
    ocean = {
        "openness": 0.5,
        "conscientiousness": 0.5,
        "extraversion": 0.5,
        "agreeableness": 0.5,
        "neuroticism": 0.5
    }

    # æ ¹æ® purpose è°ƒæ•´
    if borrower["purpose"] == "small_business":
        ocean["openness"] += 0.15
        ocean["conscientiousness"] += 0.10
    elif borrower["purpose"] == "debt_consolidation":
        ocean["conscientiousness"] += 0.12

    # æ ¹æ® grade è°ƒæ•´
    grade_map = {"A": 0.3, "B": 0.2, "C": 0, "D": -0.1, "E": -0.2, "F": -0.3, "G": -0.4}
    if borrower["grade"] in grade_map:
        ocean["conscientiousness"] += grade_map[borrower["grade"]]
        ocean["neuroticism"] -= grade_map[borrower["grade"]]  # åå‘

    # æ ¹æ® emp_length è°ƒæ•´
    if borrower["emp_length"] == "10+ years":
        ocean["conscientiousness"] += 0.10
    elif borrower["emp_length"] == "< 1 year":
        ocean["neuroticism"] += 0.15

    # æ ¹æ® home_ownership è°ƒæ•´
    if borrower["home_ownership"] == "OWN":
        ocean["conscientiousness"] += 0.08
    elif borrower["home_ownership"] == "RENT":
        ocean["neuroticism"] += 0.05

    # å½’ä¸€åŒ–åˆ° [0.25, 0.75] èŒƒå›´ï¼ˆé¿å…æç«¯å€¼ï¼‰
    for key in ocean:
        ocean[key] = max(0.25, min(0.75, ocean[key]))

    return ocean
```

---

### **Step 3.2: å¯¹æ¯” Rule-Based vs LLM-Based**
**ç›®æ ‡**: è¯„ä¼°è‡ªå®šä¹‰ç®—æ³•çš„è´¨é‡

**å®éªŒè®¾è®¡**:
1. éšæœºæŠ½ 500 æ¡æ ·æœ¬
2. åˆ†åˆ«ç”¨ Rule-Based å’Œ LLM æ‰“åˆ†
3. è®¡ç®—ç›¸å…³ç³»æ•°ï¼ˆæ¯ä¸ª OCEAN ç»´åº¦ï¼‰

**æœŸæœ›ç»“æœ**:
```
Dimension           Correlation
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Openness            0.45 - 0.65
Conscientiousness   0.50 - 0.70
Extraversion        0.30 - 0.50
Agreeableness       0.35 - 0.55
Neuroticism         0.40 - 0.60
```

å¦‚æœç›¸å…³æ€§ > 0.5ï¼Œè¯´æ˜ Rule-Based å·²ç»æ•æ‰åˆ°ä¸»è¦æ¨¡å¼ã€‚

---

## ğŸ¯ Phase 4: é›†æˆåˆ°æ¨¡å‹

### **Step 4.1: æ‰¹é‡ç”Ÿæˆ OCEAN ç‰¹å¾**
ï¼ˆè¿™ä¸€æ­¥ä½ å·²ç»åšè¿‡äº†ï¼‰
```bash
python3 run_full_pipeline.py
```

### **Step 4.2: ç‰¹å¾é‡è¦æ€§åˆ†æ**
**ç›®æ ‡**: æ£€æŸ¥ OCEAN ç‰¹å¾åœ¨æ¨¡å‹ä¸­çš„ä½œç”¨

**XGBoost Feature Importance**:
```python
importances = model.named_steps['clf'].feature_importances_
feature_names = model.named_steps['preprocess'].get_feature_names_out()

# ç­›é€‰ OCEAN ç‰¹å¾
ocean_importance = [(name, imp) for name, imp in zip(feature_names, importances)
                    if any(dim in name for dim in OCEAN_DIMS)]

print("OCEAN Features Ranking:")
for name, imp in sorted(ocean_importance, key=lambda x: x[1], reverse=True):
    print(f"  {name:30s}: {imp:.4f}")
```

### **Step 4.3: å¦‚æœ OCEAN é‡è¦æ€§å¾ˆä½ï¼Œè°ƒæ•´æƒé‡**
**è¿­ä»£å¾ªç¯**:
1. å¢åŠ æŸä¸ªç»´åº¦çš„æƒé‡ï¼ˆå¦‚ Conscientiousness Ã— 1.5ï¼‰
2. é‡æ–°æ‰“åˆ†
3. é‡æ–°è®­ç»ƒæ¨¡å‹
4. è§‚å¯Ÿ Feature Importance æ˜¯å¦æå‡
5. é‡å¤ç›´åˆ° OCEAN è¿›å…¥ Top 20 ç‰¹å¾

---

## ğŸ“ˆ Phase 5: æœ€ç»ˆè¯„ä¼°

### **Step 5.1: A/B å¯¹æ¯”**
ï¼ˆå·²å®Œæˆï¼‰

### **Step 5.2: å¦‚æœæ€§èƒ½æå‡ä¸æ˜æ˜¾ï¼Œè¯Šæ–­åŸå› **

**å¯èƒ½åŸå› **:
1. **æƒé‡ä¸åˆç†** â†’ å›åˆ° Step 2.3 è°ƒæ•´
2. **å˜é‡ä¿¡æ¯ä¸è¶³** â†’ éœ€è¦æ›´å¤šæ–‡æœ¬æ•°æ®
3. **OCEAN ä¸è¿çº¦æ— å…³** â†’ ç†è®ºå‡è®¾é”™è¯¯ï¼ˆéœ€è¦æ–‡çŒ®æ”¯æŒï¼‰
4. **æ ·æœ¬é‡å¤ªå°** â†’ æ‰©å¤§åˆ° 50k+ æ ·æœ¬

**è¯Šæ–­æ–¹æ³•**:
```python
# æ£€æŸ¥ OCEAN ä¸ target çš„ç›¸å…³æ€§
for dim in OCEAN_DIMS:
    corr = df[dim].corr(df["target"])
    print(f"{dim:20s}: r = {corr:.3f}")

# å¦‚æœæ‰€æœ‰ç›¸å…³æ€§éƒ½ < 0.05ï¼Œè¯´æ˜ OCEAN å¯¹è¿çº¦é¢„æµ‹æ— ç”¨
```

---

## ğŸ”„ æ€»ç»“ï¼šå®Œæ•´æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 1: æ•°æ®æ¢ç´¢                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1.1 è¯†åˆ«å¯ç”¨å˜é‡ (10ä¸ª)                        âœ… å·²å®Œæˆ     â”‚
â”‚ 1.2 åˆ†æå˜é‡ä¸è¿çº¦ç‡çš„å…³ç³»                     ğŸ”„ å¾…å®ç°     â”‚
â”‚ 1.3 å»ºç«‹ Variable â†’ OCEAN æ˜ å°„å‡è®¾              ğŸ”„ å¾…å®ç°     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 2: æƒé‡è®¾è®¡                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2.1 è®¾è®¡æƒé‡ç³»æ•°çŸ©é˜µ                           ğŸ”„ å¾…å®ç°     â”‚
â”‚ 2.2 éªŒè¯æƒé‡åˆç†æ€§ï¼ˆå•å…ƒæµ‹è¯•ï¼‰                 ğŸ”„ å¾…å®ç°     â”‚
â”‚ 2.3 è¿­ä»£ä¼˜åŒ–æƒé‡                               ğŸ”„ å¾…å®ç°     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 3: ç®—æ³•å®ç°                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3.1 å®ç° Rule-Based æ‰“åˆ†å‡½æ•°                   ğŸ”„ å¾…å®ç°     â”‚
â”‚ 3.2 å¯¹æ¯” Rule vs LLM (ç›¸å…³æ€§åˆ†æ)              ğŸ”„ å¾…å®ç°     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 4: æ¨¡å‹é›†æˆ                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4.1 æ‰¹é‡ç”Ÿæˆ OCEAN ç‰¹å¾                        âœ… å·²å®Œæˆ     â”‚
â”‚ 4.2 ç‰¹å¾é‡è¦æ€§åˆ†æ                             âœ… å·²å®Œæˆ     â”‚
â”‚ 4.3 æƒé‡è¿­ä»£ï¼ˆå¦‚æœé‡è¦æ€§ä½ï¼‰                   ğŸ”„ å¾…å®ç°     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 5: è¯„ä¼°ä¸è¯Šæ–­                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 5.1 A/B å¯¹æ¯”                                   âœ… å·²å®Œæˆ     â”‚
â”‚ 5.2 è¯Šæ–­å¤±è´¥åŸå›                                ğŸ”„ å¾…å®ç°     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ å½“å‰çŠ¶æ€ vs åº”è¯¥åšçš„

**ä½ å·²ç»åšçš„**:
- âœ… Step 1.1: è¯†åˆ«å˜é‡
- âœ… Step 3.1: å®ç°æ‰“åˆ†å‡½æ•°ï¼ˆä½†ç”¨çš„æ˜¯éšæœºå“ˆå¸Œï¼Œä¸æ˜¯è§„åˆ™ï¼‰
- âœ… Step 4.1: æ‰¹é‡æ‰“åˆ†
- âœ… Step 4.2: æ¨¡å‹è®­ç»ƒ
- âœ… Step 5.1: A/B å¯¹æ¯”

**ä½ è·³è¿‡çš„å…³é”®æ­¥éª¤**:
- âš ï¸ **Step 1.2**: åˆ†æå˜é‡ä¸è¿çº¦ç‡å…³ç³»
- âš ï¸ **Step 1.3**: å»ºç«‹å¿ƒç†å­¦æ˜ å°„å‡è®¾
- âš ï¸ **Step 2.1-2.3**: è®¾è®¡å’ŒéªŒè¯æƒé‡
- âš ï¸ **Step 3.2**: Rule vs LLM å¯¹æ¯”

**ä¸ºä»€ä¹ˆæ€§èƒ½æ²¡æå‡**:
å› ä¸ºä½ ç”¨çš„æ˜¯**éšæœºå“ˆå¸Œ**ï¼ˆdeterministic fallbackï¼‰ï¼Œè€Œä¸æ˜¯**åŸºäºå¿ƒç†å­¦ç†è®ºçš„è§„åˆ™**ã€‚

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨å»ºè®®

### **Option 1: å®ç° Rule-Based æ‰“åˆ†ï¼ˆæ¨èï¼‰**
æˆ‘å¸®ä½ å®ç° Step 2.1 + 3.1 çš„å®Œæ•´ä»£ç ï¼š
- åŸºäºå¿ƒç†å­¦æ–‡çŒ®è®¾è®¡æƒé‡
- ç¼–å†™è§„åˆ™å‡½æ•°
- æ›¿æ¢å½“å‰çš„å“ˆå¸Œæ–¹æ³•

### **Option 2: å¯ç”¨ LLM API**
ç›´æ¥ç”¨ OpenAI æ‰“åˆ†ï¼ˆè·³è¿‡æƒé‡è®¾è®¡ï¼‰

### **Option 3: æ··åˆæ–¹æ³•**
- Rule-Based ä½œä¸º baseline
- LLM æ‰“åˆ† 500 æ¡æ ·æœ¬
- è°ƒæ•´ Rule æƒé‡ä½¿å…¶ä¸ LLM å¯¹é½

**ä½ æƒ³è¦å“ªä¸ªï¼Ÿæˆ‘ç°åœ¨å°±å¸®ä½ å®ç°ã€‚**
